{"version":3,"file":"component---src-templates-event-index-js-a7e8d860c8c56b3e302f.js","mappings":"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","sources":["webpack://mith-static/./src/components/paginator.js","webpack://mith-static/./src/templates/event-index.js"],"sourcesContent":["import { Link } from 'gatsby'\nimport React from 'react'\n\nimport './paginator.css'\n\nconst Paginator = ({count, path}) => {\n  return(\n    <section className=\"pagination-wrap\">\n      <ul className=\"pagination\">\n        {Array.from({ length: count }, (_, i) => (\n          <li className=\"page-link\" key={`pa${i}`}>\n            <Link\n              activeClassName=\"active\" \n              className=\"page-link\"\n              key={`pagination-number${i + 1}`}\n              to={`/${path}/${i === 0 ? \"\" : i + 1}`}>\n              {i + 1}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </section>\n  )\n}\n\nexport default Paginator;","import React from 'react'\nimport { graphql, Link } from 'gatsby'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport Layout from '../components/layout'\nimport Paginator from '../components/paginator'\nimport SEO from '../components/seo'\nimport EventTime from '../components/event-time'\nimport Person from '../components/person'\n\nimport './event-index.css'\n\nconst EventIndex = ({data}) => {\n  const items = data.allAirtableEvents.nodes\n  const pageCount = data.allAirtableEvents.pageInfo.pageCount\n\n  return (\n    <Layout>\n      <SEO title=\"MITH Events\" />\n      <div className=\"page-events\">\n        <section className=\"posts events\">\n          <h1 className=\"page-title\">Events</h1>\n          {items.map(_item => {\n\n            const item = _item.data\n            const slug = '/events/' + item.id + '/'\n            \n            const event_title = item.event_title\n            const talk_title = item.talk_title\n            const title_text = talk_title ? talk_title : event_title\n            const title = item.talk_subtitle\n              ? <h2 className=\"title\"><Link to={slug}>{title_text}<span className=\"subtitle\">{item.talk_subtitle}</span></Link></h2> \n              : <h2 className=\"title\"><Link to={slug}>{title_text}</Link></h2>\n\n            let image = ''\n            let excerpt = '' \n            if (item.image) {\n              image = <Link to={slug} className=\"image\">\n                <GatsbyImage \n                  image={item.image.localFiles[0].childImageSharp.gatsbyImageData}\n                  alt={item.title} \n                  className=\"event-image\"\n              /></Link>\n            }\n            if (item.description) {\n              excerpt = <div className=\"excerpt\">\n                {item.description.childMarkdownRemark.excerpt}\n              </div>\n            }\n          \n            let speakers_list = null\n            let speakers = null\n            const speakers_data = item.speakers ? item.speakers : []\n            if (item.speakers) {\n              speakers_list = speakers_data.map((p, i) => {\n                return <Person key={`p${i}`} person={p} showTitle=\"false\" type=\"index\" />\n              })\n              speakers = <div className=\"speakers hidden\">\n                <ul className=\"inline-list\">\n                  {speakers_list}\n                </ul>\n              </div>\n            }\n            const status = item.status === 'canceled' ? <span className={`pill event-status ${item.status}`}>{item.status}</span> : ''\n            let types = null\n            let types_list = null \n            if (item.type) {\n              types_list = item.type.map(t => {\n                return <span className=\"pill event-type\" key={`t${t}`}>{t}</span>\n              })\n              \n              types = <div className=\"event-types\">{types_list}{status}</div>\n            }\n\n            const itemId = item.id.replace(/-/g, '_')\n            const iconLocation = <FontAwesomeIcon icon=\"map-marker-alt\" />\n            const location = item.location \n              ? <span className=\"location\">{iconLocation} {item.location}</span> : ''\n            const details = <Link className=\"button\" to={slug}>Event Details</Link>\n\n            return (\n              <article className=\"event-item\" key={`event-${item.id}`} id={itemId}>\n                {image}\n                <div className=\"content\">\n                  {title}\n                  {types}\n                  {excerpt}\n                </div>\n                <div className=\"meta\">\n                  <EventTime start={item.start} end={item.end} icon=\"yes\" />\n                  {location}\n                </div>\n                <div className=\"details\">\n                  {details}\n                </div>\n              </article>\n            )\n          })}\n        </section>\n        <Paginator count={pageCount} path=\"events\" />\n      </div>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query EventsQuery($skip: Int!, $limit: Int!) {\n    allAirtableEvents(\n      limit: $limit\n      skip: $skip\n      filter: {data: {event_type: {ne: \"Digital Dialogue\"}}}\n      sort: {data: {start_date: DESC}}\n    ) {\n      nodes {\n        data {\n          id\n          event_title\n          talk_title\n          talk_subtitle\n          type: event_type\n          start: start_date\n          end: end_date\n          location\n          status\n          speakers {\n            data {\n              name\n              slug\n              new_id\n              linked_identities {\n                data {\n                  title\n                  department\n                  institution\n                  person_group\n                }\n              }\n            }\n          }\n          image {\n              localFiles {\n                childImageSharp {\n                  gatsbyImageData(\n                    width: 500\n                    quality: 100\n                    backgroundColor: \"rgba(255,255,255,0)\"\n                  )\n                }\n              }\n            }\n          description {\n            childMarkdownRemark {\n              excerpt(pruneLength: 250)\n            }\n          }\n        }\n      }\n      pageInfo {\n        pageCount\n      }\n    }\n  }\n`\n\nexport default EventIndex\n"],"names":["_ref","count","path","React","className","Array","from","length","_","i","key","Link","activeClassName","to","data","items","allAirtableEvents","nodes","pageCount","pageInfo","Layout","SEO","title","map","_item","item","slug","id","event_title","talk_title","title_text","talk_subtitle","image","excerpt","GatsbyImage","localFiles","childImageSharp","gatsbyImageData","alt","description","childMarkdownRemark","speakers_list","speakers","speakers_data","p","Person","person","showTitle","type","status","types","types_list","t","itemId","replace","iconLocation","FontAwesomeIcon","icon","location","details","EventTime","start","end","Paginator"],"sourceRoot":""}